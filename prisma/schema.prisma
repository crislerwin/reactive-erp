generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider     = "mysql"
    url          = env("DATABASE_URL")
    relationMode = "prisma"
}

model Person {
    personId    Int          @id @unique @default(autoincrement())
    companyId   Int?         @unique
    email       String       @unique @default("")
    userName    String?
    createdAt   DateTime     @default(now())
    updatedAt   DateTime     @updatedAt
    permissions Permission[]

    @@index([email])
}

model Permission {
    id       Int     @id @default(autoincrement())
    name     String  @default("")
    value    String  @default("")
    person   Person? @relation(fields: [personId], references: [personId])
    personId Int?

    @@index([id])
    @@index([personId])
}

model Company {
    id        Int      @id @unique @default(autoincrement())
    name      String   @default("")
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}
