generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "sqlite"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model Patient {
  id           String        @id() @default(uuid())
  email        String        @unique
  firstName    String        @default("")
  lastName     String        @default("")
  phoneNumber  String        @default("")
  appointments Appointment[]
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt

  @@index([email])
}

model Appointment {
  id         String   @unique @default(uuid())
  patient    Patient? @relation(fields: [patientId], references: [id])
  patientId  String?
  speciality String

  @@index([patientId])
}

model Office {
  id             String   @unique @default(uuid())
  registrationId String   @unique @default("") @map("registrationId")
  socialReason   String
  fantasyName    String
  email          String
  phoneNumber    String
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@index([registrationId])
}
